<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulário Fatec CPS Carreira</title>
    <link rel="stylesheet" href="../css/style_form.css">
    <link rel="stylesheet" href="../css/nav.css">
    <link rel="shortcut icon" href="../images/favicon/favicon.ico" type="image/x-icon">
</head>

<body>

    <div id="header"></div>


    <div class="container form2">

        <h1>Fatec de Itapira "Ogari de Castro Pacheco"</h1>
        <span class="erro"></span>
        <div class="section-title">ANEXO II</div>

        <form action="haePublicadas.html" id="haeForm">
            <div class="section-title">1 - Metas Relacionadas ao Projeto</div>

            <label for="metas">Descreva as metas do projeto:</label>
            <textarea id="metas" name="metas" rows="4"></textarea>


            <div class="section-title">2 - Objetivos do Projeto - Detalhamento</div>

            <label for="objetivos">Descreva os objetivos do projeto:</label>
            <textarea id="objetivos" name="objetivos" rows="3"></textarea>


            <div class="section-title">3 - Justificativas do Projeto - Detalhamento</div>

            <label for="justificativas">Descreva as justificativas do projeto:</label>
            <textarea id="justificativas" rows="3" name="justificativas"></textarea>


            <div class="section-title">4 - Recursos Materiais e Humanos - Detalhamento</div>

            <label for="recursos">Liste os recursos necessários:</label>
            <textarea id="recursos" rows="3" name="recursos"></textarea>

            <div class="section-title">5 - Resultado Esperado - Previsão</div>

            <label for="resultado">Descreva o resultado esperado:</label>
            <textarea id="resultado" rows="2" name="resultado"></textarea>


            <div class="section-title">6 - Metodologia</div>

            <label for="metodologia">Descreva a metodologia a ser utilizada:</label>
            <textarea id="metodologia" name="metodologia" rows="2"></textarea>


            <div class="section-title">7 - Cronograma de Execução das Atividades</div>

            <label>Atividades:</label>
            <div class="cronograma_atividades">
                <label for="mes"> escolha uma data</label>
                <input type="date" name="ima" id="mes">
            </div>


            <div class="container-btn">
                <button onclick="submitForm()" type="button"  class="submit-btn">Enviar Formulário</button>
            </div>
        </form>

    </div>
    <div id="footer"></div>


    <script>

        const inputsHae = document.forms["haeForm"].getElementsByTagName("input")
        const textAreasHae = document.forms["haeForm"].getElementsByTagName("textArea")
        var arrayFormHae = Array.prototype.slice.call(inputsHae)

        arrayFormHae = arrayFormHae.concat(Array.prototype.slice.call(textAreasHae))

        arrayFormHae.forEach(element => {
            element.value = localStorage.getItem(element.name)
        });
        function update() {
            arrayFormHae.forEach(element => {
                localStorage.setItem(element.name, element.value)
            });
        }
        function submitForm() {
            update()
            document.querySelector(".erro").innerHTML = ""

            let erro = false

            let camps = []
            arrayFormHae.forEach(element => {
                camps[element.name] = element.value
                if (["", null].includes(element.value)) {
                    erro = true
                    document.querySelector(".erro").innerHTML += `* O campo ${element.name} esta vazio<br>`
                }
            });

            if (erro) {
                window.scrollTo({ top: 220 });
            } else {
                localStorage.clear()
                document.querySelector("#haeForm").submit()
            }
        }
    </script>
    <script src="../js/components.js"></script>
</body>

</html>